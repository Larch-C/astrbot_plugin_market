# ✨ AstrBot 插件市场

> 您的 AstrBot 一站式插件管理中心。无需离开聊天窗口，即可轻松浏览、搜索、安装、管理和卸载插件。

---

### 🌟 插件描述

*   🏪 **插件中心**
    分页浏览官方市场所有插件，名称、作者、描述、热度、更新日期一目了然。

*   🔍 **精准关键词搜索**
    通过插件名、作者或功能描述，快速找到您需要的插件。

*   🏆 **多维度排行榜**
    按 **Star 数量** 或 **更新时间** 查看热门或最新的插件，轻松掌握社区动态。

*   🚀 **智能安装**
    *   **智能下载**：自动测试并选用最快的代理，优先下载。
    *   **无感加载**：安装后插件自动加载，即刻生效，无需重启。
    *   **自动文档**：安装成功后，自动将新插件的 `README.md` 渲染成图片发送，助您快速上手。

*   📦 **本地插件管理**
    *   **清晰列表**：`/已安装插件` 指令可清晰展示所有本地**有效插件**，并生成独立的**本地编号**，管理不再混乱。
    *   **便捷卸载**：`/插件卸载` 指令支持通过**本地编号**或**文件夹名**安全卸载插件，告别手动删文件。

*   🛡️ **稳定可靠**
    *   **原生集成**：集成框架原生的安装与卸载逻辑，确保操作安全。
    *   **智能识别**：全面兼容大小写模糊操作；自动校验插件有效性，过滤无效目录。

---

### 📖 插件指令

#### `/插件市场`
浏览官方插件市场的插件列表。

*   **格式**：
    ```
    /插件市场 [页码]
    ```
*   **示例**：
    *   `/插件市场` - 查看第 1 页。
    *   `/插件市场 3` - 查看第 3 页。

#### `/插件搜索`
根据关键词搜索插件。

*   **格式**：
    ```
    /插件搜索 <关键词> [页码]
    ```
*   **示例**：
    *   `/插件搜索 天气` - 搜索与“天气”相关的插件。
    *   `/插件搜索 天气 2` - 查看搜索结果的第 2 页。

#### `/插件排行`
查看按不同标准排序的插件排行榜。

*   **格式**：
    ```
    /插件排行 [排序方式] [页码]
    ```
*   **说明**： `排序方式` 可选 `star` (按Star数，默认) 或 `time` (按更新时间)。
*   **示例**：
    *   `/插件排行` - 查看默认的 Star 排行榜。
    *   `/插件排行 time` - 查看最新更新的插件。

#### `/已安装插件`
查看本地已安装的所有**有效插件**。

*   **格式**：
    ```
    /已安装插件 [页码]
    ```
*   **说明**：列表会为每个插件生成一个独立的【本地编号】，用于卸载操作。
*   **示例**：
    *   `/已安装插件` - 查看本地插件列表第 1 页。

#### `/插件安装`
安装指定的插件。
> ⚠️ 此指令仅限**管理员**使用。

*   **格式**：
    ```
    /插件安装 <标识>
    ```
*   **说明**：`标识` 可以是插件在 `/插件市场` 列表中的**编号**、完整的**插件键名**或一个**GitHub仓库链接**。
*   **示例**：
    *   `/插件安装 1` - 安装插件市场的第1号插件。
    *   `/插件安装 astrbot_plugin_botname` - 通过名称安装插件。
    *   `/插件安装 https://github.com/user/repo.git` - 从链接安装。

#### `/插件卸载`
卸载一个已安装的插件。
> ⚠️ 此指令仅限**管理员**使用。

*   **格式**：
    ```
    /插件卸载 <标识>
    ```
*   **说明**：`标识` 可以是插件在 `/已安装插件` 列表中的**【本地编号】**或插件的**【文件夹名】**（不区分大小写）。
*   **示例**：
    *   `/插件卸载 1` - 卸载本地列表中的1号插件。
    *   `/插件卸载 astrbot_plugin_botname` - 通过文件夹名卸载插件。

---

### 📝 更新日志

#### `v1.4.0`
*   ✨ **新增**：`/已安装插件` 指令，可分页查看所有本地**有效插件**，并生成独立的**本地编号**。
*   ✨ **新增**：`/插件卸载` 指令，整合框架原生卸载逻辑，安全可靠。
*   🛡️ **增强**：提升鲁棒性！所有均支持大小写模糊匹配（ps:主要是有发现有的README.md命名是ReadMe.md导致发不了图片）。
*   🔧 **修复**：修正了之前版本中发现的一些BUG。

#### `v1.3.1`
*   🔧 **修复**：增强了图片渲染API的容错性，增加了对返回图片的有效性验证，避免因上游服务返回错误图片而导致发送失败的问题。

#### `v1.3.0`
*   ✨ **新增**：**智能下载机制**，自动测试并选择最优代理，优先下载稳定发行版(Release)。
*   ✨ **新增**：**自动文档功能**，安装插件后自动发送其 `README.md` 图片。
*   🔧 **修复**：增强了插件API和图片渲染API的容错性，支持多地址自动切换。

#### `v1.1.0`
*   💄 **优化**：使用HTML渲染生成所有列表图片，大幅美化界面。
*   ✨ **新增**：`/插件排行` 指令。
*   ✨ **新增**：支持通过GitHub链接直接安装插件。
*   🔧 **修复**：修正了因插件列表排序不一致导致的插件安装错误问题。

#### `v1.0.0`
*   🚀 **发布**：实现插件市场浏览、搜索、安装等基础功能。
